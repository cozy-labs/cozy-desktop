{
  "name": "cozy-desktop-gui",
  "productName": "Cozy Drive",
  "private": true,
  "version": "3.4.0-beta.1",
  "description": "Cozy Drive is a synchronization tool for your files and folders with Cozy Cloud.",
  "homepage": "https://github.com/cozy-labs/cozy-desktop",
  "author": "Cozy Cloud <contact@cozycloud.cc> (https://cozycloud.cc/)",
  "license": "AGPL-3.0",
  "bugs": {
    "url": "https://github.com/cozy-labs/cozy-desktop/issues"
  },
  "main": "main.js",
  "repository": {
    "type": "git",
    "url": "git://github.com/cozy-labs/cozy-desktop.git"
  },
  "keywords": [
    "Electron",
    "desktop",
    "drive",
    "data",
    "sync",
    "files",
    "cozy"
  ],
  "build": {
    "appId": "io.cozy.desktop",
    "files": [
      "app.css",
      "elm.js",
      "fonts",
      "images",
      "index.html",
      "locales",
      "main.js",
      "node_modules",
      "ports.js",
      "src/main"
    ],
    "win": {
      "certificateSubjectName": "Cozy Cloud SAS",
      "target": [
        "nsis"
      ]
    },
    "mac": {
      "category": "public.app-category.productivity",
      "target": [
        "dmg",
        "zip"
      ]
    },
    "linux": {
      "target": [
        "AppImage"
      ],
      "artifactName": "CozyDrive-${version}-${arch}.${ext}",
      "executableName": "CozyDrive",
      "category": "Network;FileTransfer;",
      "desktop": {
        "StartupNotify": "true"
      },
      "synopsis": "Cozy Drive is a synchronization tool for your files and folders with Cozy Cloud.",
      "description": "Save them safely in your open source personal cloud, access them anywhere, anytime with the mobile application and share them with the world or just your friends and colleagues. You can host your own Cozy Cloud, and or use the hosting services. Your freedom to chose is why you can trust us."
    },
    "appImage": {
      "systemIntegration": "doNotAsk"
    }
  },
  "dependencies": {
    "auto-launch": "^5.0.3",
    "babel-polyfill": "^6.26.0",
    "cozy-desktop": "file:../cli/",
    "electron-fetch": "^1.1.0",
    "electron-main-notification": "^1.0.1",
    "electron-positioner": "^3.0.0",
    "electron-proxy-agent": "^1.0.2",
    "electron-updater": "2.17.6",
    "lnk": "^1.1.0",
    "lodash.debounce": "^4.0.8",
    "node-uuid": "^1.4.8",
    "yargs": "^10.0.3"
  },
  "devDependencies": {
    "chokidar-cli": "^1.2.0",
    "cozy-ui": "^3.0.0-beta39",
    "cross-env": "^5.1.1",
    "debug-menu": "^0.6.1",
    "devtron": "^1.4.0",
    "electron": "^1.7.9",
    "electron-builder": "^19.48.3",
    "elm": "^0.18.0",
    "elm-upgrade": "^0.18.7",
    "rimraf": "^2.6.2",
    "standard": "^10.0.3",
    "stylus": "^0.54.5"
  },
  "scripts": {
    "build": "yarn build:css & yarn build:tx && yarn build:elm",
    "build:css": "stylus -c -u cozy-ui/stylus styles/app.styl -o .",
    "build:elm": "elm make src/elm/Main.elm --output elm.js",
    "build:cli": "cd ../cli && yarn build",
    "build:tx": "tx pull --all --minimum-perc=1 || true",
    "clean": "rimraf elm.js app.css* dist/",
    "dist": "cross-env DEBUG=electron-builder build --x64 --ia32",
    "elm:upgrade": "yarn add --dev elm@latest elm-upgrade@latest && elm-upgrade",
    "lint": "standard --verbose src/main/**.js main.js ports.js",
    "pack": "cross-env DEBUG=electron-builder build --dir",
    "postinstall": "yarn postinstall:electron && yarn postinstall:elm",
    "postinstall:electron": "cross-env DEBUG=electron-builder electron-builder install-app-deps",
    "postinstall:elm": "elm-package install -y",
    "reinstall": "bash -c 'rm -rf node_modules/' && yarn",
    "release:build": "yarn release:check:node-8 && yarn release:build:cli && yarn reinstall && yarn run clean && yarn build && yarn dist && yarn release:fix",
    "release:build:cli": "cd ../cli && yarn release:build",
    "release:check:node-8": "node -e \"(process.versions.node.split('.')[0] !== '8') && process.exit(1)\"",
    "release:fix": "node ./dev/fix-dist-artifacts.js",
    "start": "cross-env COZY_DESKTOP_HEARTBEAT=5000 electron .",
    "watch": "cross-env WATCH=true yarn start & yarn watch:css & yarn watch:elm & yarn watch:js",
    "watch:css": "stylus -m -u cozy-ui/stylus -w styles/app.styl -o .",
    "watch:elm": "chokidar 'src/elm/**/*.elm' -c 'yarn build:elm'",
    "watch:js": "chokidar main.js ports.js -c 'yarn lint'"
  }
}
